# Density of states (DOS) calculation from minimized 3ob-3-1 COF TpPa-1

This DOS calculation will begin from a well-minimized TpPa-1 geometry and charge distribution. That means that the .gen output file and the charges.bin file produced from 3ob-3-1-minimization will be used as inputs to this calculation. 

## dftb_in.hsd 

- As in the band structure calculation, ionic relaxation is not required for this step as we have already relaxed our structure. Thus, the <code>Driver</code> block can be turned off. 
- There is only one difference in the <code>Hamiltonian</code> block between the DOS calculation and the minimization calculation. The <code>KPointsAndWeights</code> have been turned to a 12×12×12 k-point mesh in order to accurately sample the electronic structure to generate the DOS. The band structure example in this repository utilized the well-converged charges.bin file from the geometry minimization. Alternatively, the charges.bin generated from the DOS step can also be used. 
- The <code>Analysis</code> block has substantially changed in this step. A <code>ProjectStates</code> tag has been included along with a sub-tag for each atom type called <code>Region</code>. This block calculates the element project density of states. If this information is not desired, this block can be removed. 

## band.out and dos_tot.dat

The band.out generated here is similar to the band.out generated by the band structure calculation; it is not easily read and plotted by most software. DFTB+ includes a tool called <code>dp_dos</code> which can edit this file to be readable and plottable. This tool can be executed by running the following command: <code>dp_dos -b 0.001 band.out dos_tot.dat</code>. This can also be run on each of the projected elemental DOS files. For more information on this tool, consult the manual or the DFTB+ tutorials. 